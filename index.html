<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SANSEI DECANTS - Fragrâncias e Decants</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Cormorant Garamond (for headings) & Lato (for body) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600;700&family=Lato:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Feather Icons for Icons -->
    <script src="https://unpkg.com/feather-icons"></script>

    <!-- AOS (Animate on Scroll) Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        body {
            font-family: 'Lato', sans-serif;
            overflow-x: hidden;
        }
        .font-heading {
            font-family: 'Cormorant Garamond', serif;
        }
        .transition-all-ease {
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .text-gold-500 { color: #D4AF37; } /* Brighter Gold */
        .hover\:text-gold-600:hover { color: #c09a58; }
        .bg-gold-500 { background-color: #D4AF37; }
        .hover\:bg-gold-600:hover { background-color: #c09a58; }
        .border-gold-500 { border-color: #D4AF37; }
        .ring-gold-500:focus { --tw-ring-color: #D4AF37; }
        .nav-link.active {
            color: #D4AF37;
            font-weight: 600;
        }
        #cart-modal, #product-details-modal-content, #auth-modal {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        /* Custom checkbox style */
        .form-checkbox {
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid #d1d5db;
            border-radius: 0.25rem;
            vertical-align: middle;
            cursor: pointer;
        }
        .form-checkbox:checked {
            background-color: #D4AF37;
            border-color: #D4AF37;
            background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
            background-size: 100% 100%;
            background-position: center;
            background-repeat: no-repeat;
        }
        .form-radio:checked {
            background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='%23D4AF37' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");
        }
        /* Star Rating Styles */
        .star-rating .feather-star {
            width: 1.25rem;
            height: 1.25rem;
            color: #d1d5db; /* Cor de estrela vazia */
        }
        .star-rating .feather-star.filled {
            fill: #D4AF37;
            color: #D4AF37;
        }
        /* Toast Notification Styles */
        #toast-notification {
            transition: opacity 0.5s, transform 0.5s;
        }
        /* FAQ Accordion Styles */
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        /* Loader Styles */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #D4AF37;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Parallax Effect */
        .parallax-bg {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }
        /* Mobile fallback for Parallax */
        @media (max-width: 768px) {
            .parallax-bg {
                background-attachment: scroll;
            }
        }
        /* Gold Gradient Text */
        .text-gold-gradient {
            background: -webkit-linear-gradient(45deg, #D4AF37, #c09a58);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="bg-white text-gray-800">

    <!-- =========== Header / Navigation Bar =========== -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="javascript:void(0);" onclick="showPage('inicio')" class="block h-24">
                <img src="https://raw.githubusercontent.com/DiegoSutil/TesteSansei/main/IMG_4164.JPG" alt="SANSEI DECANTS Logo" class="h-full w-auto">
            </a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="javascript:void(0);" onclick="showPage('inicio')" id="nav-inicio" class="nav-link">Início</a>
                <a href="javascript:void(0);" onclick="showPage('fragrancias')" id="nav-fragrancias" class="nav-link">Fragrâncias</a>
                <a href="javascript:void(0);" onclick="showPage('decants')" id="nav-decants" class="nav-link">Decants</a>
                <a href="javascript:void(0);" onclick="showPage('sobre')" id="nav-sobre" class="nav-link">Sobre</a>
                <a href="javascript:void(0);" onclick="showPage('faq')" id="nav-faq" class="nav-link">FAQ</a>
                <a href="javascript:void(0);" onclick="showPage('contato')" id="nav-contato" class="nav-link">Contato</a>
            </div>
            <div class="flex items-center space-x-5">
                <button id="search-button" class="text-gray-500 hover:text-gold-500 focus:outline-none transition-all-ease"><i data-feather="search" class="w-6 h-6"></i></button>
                <button id="cart-button" class="text-gray-500 hover:text-gold-500 focus:outline-none relative transition-all-ease">
                    <i data-feather="shopping-cart" class="w-6 h-6"></i>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-gold-500 text-black text-xs rounded-full h-5 w-5 flex items-center justify-center font-sans">0</span>
                </button>
                <button id="user-button" class="hidden md:block text-gray-500 hover:text-gold-500 focus:outline-none transition-all-ease"><i data-feather="user" class="w-6 h-6"></i></button>
                <button id="mobile-menu-button" class="md:hidden text-gray-600 hover:text-gold-500 focus:outline-none"><i data-feather="menu" class="w-6 h-6"></i></button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 space-y-2 bg-white">
            <a href="javascript:void(0);" onclick="showPage('inicio')" class="block text-gray-600 hover:text-gold-500">Início</a>
            <a href="javascript:void(0);" onclick="showPage('fragrancias')" class="block text-gray-600 hover:text-gold-500">Fragrâncias</a>
            <a href="javascript:void(0);" onclick="showPage('decants')" class="block text-gray-600 hover:text-gold-500">Decants</a>
            <a href="javascript:void(0);" onclick="showPage('sobre')" class="block text-gray-600 hover:text-gold-500">Sobre</a>
             <a href="javascript:void(0);" onclick="showPage('faq')" class="block text-gray-600 hover:text-gold-500">FAQ</a>
            <a href="javascript:void(0);" onclick="showPage('contato')" class="block text-gray-600 hover:text-gold-500">Contato</a>
            <a href="#" id="mobile-user-link" class="block text-gray-600 hover:text-gold-500">Minha Conta</a>
        </div>
        <!-- Search Bar -->
        <div id="search-bar" class="hidden bg-white border-t border-gray-200">
            <div class="container mx-auto p-4 flex items-center gap-4">
                <input type="text" id="search-input" placeholder="O que você procura?" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500">
                <button id="close-search-bar" class="text-gray-500 hover:text-black"><i data-feather="x"></i></button>
            </div>
            <div id="search-results" class="container mx-auto px-4 pb-4"></div>
        </div>
    </header>

    <!-- =========== Main Content =========== -->
    <main>
        <!-- =========== INICIO Page Content =========== -->
        <div id="page-inicio" class="page-content">
            <!-- Hero Section -->
            <section class="relative bg-black text-white py-24 md:py-40 parallax-bg" style="background-image: url('https://raw.githubusercontent.com/DiegoSutil/TesteSansei/7d368b520b04e2693d0313b19f040a0611f20ba3/Gemini_Generated_Image_17fx3q17fx3q17fx.png');">
                <div class="absolute inset-0 bg-black bg-opacity-50"></div>
                <div class="container mx-auto px-6 text-center relative z-10" data-aos="fade-up">
                    <h1 class="font-heading text-5xl md:text-7xl font-bold leading-tight mb-4 text-gold-gradient">Fragrâncias que Contam Histórias</h1>
                    <p class="text-lg md:text-xl mb-10 max-w-2xl mx-auto text-gray-200 font-light">Descubra aromas únicos e encontre a sua assinatura olfativa.</p>
                    <a href="javascript:void(0);" onclick="showPage('fragrancias')" class="bg-gold-500 text-black font-bold py-3 px-10 rounded-full hover:bg-gold-600 transition-all-ease text-lg tracking-wider shadow-lg hover:shadow-gold-500/50">VER COLEÇÃO</a>
                </div>
            </section>
            <!-- Benefits Bar -->
            <section class="bg-white py-12">
                <div class="container mx-auto px-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center" data-aos="fade-up">
                        <div class="flex flex-col items-center"><i data-feather="award" class="w-10 h-10 text-gold-500 mb-3"></i><h3 class="font-semibold text-lg">Fragrâncias Raras</h3><p class="text-gray-600 text-sm">Curadoria de perfumes de nicho e exclusivos.</p></div>
                        <div class="flex flex-col items-center"><i data-feather="box" class="w-10 h-10 text-gold-500 mb-3"></i><h3 class="font-semibold text-lg">Embalagem de Luxo</h3><p class="text-gray-600 text-sm">Uma experiência premium do início ao fim.</p></div>
                        <div class="flex flex-col items-center"><i data-feather="truck" class="w-10 h-10 text-gold-500 mb-3"></i><h3 class="font-semibold text-lg">Envio para Todo o Brasil</h3><p class="text-gray-600 text-sm">Receba seus decants com segurança e rapidez.</p></div>
                    </div>
                </div>
            </section>
            <!-- Featured Products Section -->
            <section class="py-20 bg-black">
                <div class="container mx-auto px-6">
                    <h2 class="font-heading text-4xl font-bold text-center mb-12 text-white" data-aos="fade-up">Mais Desejados</h2>
                    <div id="product-list-home" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10"></div>
                </div>
            </section>
            <!-- Instagram Reels Section -->
            <section class="bg-white py-20">
                <div class="container mx-auto px-6 text-center">
                    <h2 class="font-heading text-4xl font-bold text-black mb-4" data-aos="fade-up">Veja os nossos Reels</h2>
                    <p class="text-gray-600 mb-12" data-aos="fade-up" data-aos-delay="100">Conteúdo exclusivo e bastidores da nossa paixão por perfumes.</p>
                    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4" data-aos="fade-up" data-aos-delay="200">
                        <a href="https://www.instagram.com/reel/DLP9iVzsBcA/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA==" target="_blank" class="block relative group"><img src="https://placehold.co/400x400/000000/ffffff?text=Seu+Reel+Aqui" alt="Reel 1" class="w-full h-full object-cover rounded-lg"><div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all-ease flex items-center justify-center"><i data-feather="play-circle" class="text-white opacity-0 group-hover:opacity-100 w-10 h-10"></i></div></a>
                        <a href="#" target="_blank" class="block relative group"><img src="https://placehold.co/400x400/333333/ffffff?text=Reel+2" alt="Reel 2" class="w-full h-full object-cover rounded-lg"><div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all-ease flex items-center justify-center"><i data-feather="play-circle" class="text-white opacity-0 group-hover:opacity-100 w-10 h-10"></i></div></a>
                        <a href="#" target="_blank" class="block relative group"><img src="https://placehold.co/400x400/111111/ffffff?text=Reel+3" alt="Reel 3" class="w-full h-full object-cover rounded-lg"><div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all-ease flex items-center justify-center"><i data-feather="play-circle" class="text-white opacity-0 group-hover:opacity-100 w-10 h-10"></i></div></a>
                        <a href="#" target="_blank" class="block relative group"><img src="https://placehold.co/400x400/222222/ffffff?text=Reel+4" alt="Reel 4" class="w-full h-full object-cover rounded-lg"><div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all-ease flex items-center justify-center"><i data-feather="play-circle" class="text-white opacity-0 group-hover:opacity-100 w-10 h-10"></i></div></a>
                        <a href="#" target="_blank" class="block relative group"><img src="https://placehold.co/400x400/444444/ffffff?text=Reel+5" alt="Reel 5" class="w-full h-full object-cover rounded-lg"><div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all-ease flex items-center justify-center"><i data-feather="play-circle" class="text-white opacity-0 group-hover:opacity-100 w-10 h-10"></i></div></a>
                        <a href="#" target="_blank" class="block relative group"><img src="https://placehold.co/400x400/555555/ffffff?text=Reel+6" alt="Reel 6" class="w-full h-full object-cover rounded-lg"><div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all-ease flex items-center justify-center"><i data-feather="play-circle" class="text-white opacity-0 group-hover:opacity-100 w-10 h-10"></i></div></a>
                    </div>
                    <div class="mt-12" data-aos="fade-up">
                        <a href="https://www.instagram.com/sanseidecants/reels/" target="_blank" class="bg-gold-500 text-black font-bold py-3 px-10 rounded-full hover:bg-gold-600 transition-all-ease">Ver mais no Instagram</a>
                    </div>
                </div>
            </section>
        </div>

        <!-- =========== FRAGRANCIAS Page Content =========== -->
        <div id="page-fragrancias" class="page-content hidden">
            <div class="bg-white">
                <div class="container mx-auto px-6 py-20">
                    <div class="text-center mb-16">
                        <h1 class="font-heading text-5xl font-bold mb-4 text-black" data-aos="fade-up">Nossa Coleção</h1>
                        <p class="text-lg text-gray-600" data-aos="fade-up" data-aos-delay="100">Explore e encontre a sua fragrância perfeita.</p>
                    </div>
                    <div class="flex flex-col md:flex-row gap-12">
                        <!-- Filter Sidebar -->
                        <aside class="w-full md:w-1/4" data-aos="fade-right">
                            <div class="bg-gray-50 p-6 rounded-lg shadow-sm sticky top-32">
                                <h3 class="font-heading text-2xl font-semibold mb-6 text-black">Filtros</h3>
                                <div class="mb-6">
                                    <h4 class="font-semibold mb-3 text-gray-800">Categoria</h4>
                                    <div class="space-y-2">
                                        <div><label class="flex items-center"><input type="checkbox" id="filter-cat-perfume" onchange="applyFilters()" class="form-checkbox" value="perfume"> <span class="ml-2 text-gray-700">Perfumes</span></label></div>
                                        <div><label class="flex items-center"><input type="checkbox" id="filter-cat-decant" onchange="applyFilters()" class="form-checkbox" value="decant"> <span class="ml-2 text-gray-700">Decants</span></label></div>
                                    </div>
                                </div>
                                <div class="mb-6">
                                    <h4 class="font-semibold mb-3 text-gray-800">Faixa de Preço</h4>
                                    <div class="space-y-2">
                                        <div><label class="flex items-center"><input type="radio" name="price" onchange="applyFilters()" class="form-radio text-gold-500 border-gray-300 focus:ring-gold-500" value="all" checked> <span class="ml-2 text-gray-700">Todos</span></label></div>
                                        <div><label class="flex items-center"><input type="radio" name="price" onchange="applyFilters()" class="form-radio text-gold-500 border-gray-300 focus:ring-gold-500" value="150"> <span class="ml-2 text-gray-700">Até R$ 150</span></label></div>
                                        <div><label class="flex items-center"><input type="radio" name="price" onchange="applyFilters()" class="form-radio text-gold-500 border-gray-300 focus:ring-gold-500" value="500"> <span class="ml-2 text-gray-700">R$ 150 - R$ 500</span></label></div>
                                        <div><label class="flex items-center"><input type="radio" name="price" onchange="applyFilters()" class="form-radio text-gold-500 border-gray-300 focus:ring-gold-500" value="501"> <span class="ml-2 text-gray-700">Acima de R$ 500</span></label></div>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-3 text-gray-800">Ordenar Por</h4>
                                    <select id="sort-by" onchange="applyFilters()" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500">
                                        <option value="popularity">Popularidade</option>
                                        <option value="price-asc">Preço: Menor para Maior</option>
                                        <option value="price-desc">Preço: Maior para Menor</option>
                                    </select>
                                </div>
                            </div>
                        </aside>
                        <!-- Product Grid -->
                        <div id="product-list-fragrances" class="w-full md:w-3/4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- =========== DECANTS Page Content =========== -->
        <div id="page-decants" class="page-content hidden">
            <div class="bg-white">
                <div class="container mx-auto px-6 py-20">
                    <div class="text-center mb-16">
                        <h1 class="font-heading text-5xl font-bold mb-4 text-black" data-aos="fade-up">Nossos Decants</h1>
                        <p class="text-lg text-gray-600" data-aos="fade-up" data-aos-delay="100">A forma perfeita de experimentar antes de se comprometer.</p>
                    </div>
                    <div id="product-list-decants" class="w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8"></div>
                </div>
            </div>
        </div>

        <!-- =========== SOBRE Page Content =========== -->
        <div id="page-sobre" class="page-content hidden">
            <div class="bg-white">
                <div class="container mx-auto px-6 py-20">
                    <div class="text-center mb-16">
                        <h1 class="font-heading text-5xl font-bold mb-4 text-black" data-aos="fade-up">Nossa História</h1>
                    </div>
                    <div class="flex flex-col md:flex-row items-center gap-12" data-aos="fade-up">
                        <div class="md:w-1/2"><img src="https://placehold.co/800x600/e7e5e4/333333?text=SANSEI+DECANTS" alt="Imagem sobre a Sansei Decants" class="rounded-lg shadow-xl"></div>
                        <div class="md:w-1/2">
                            <p class="text-gray-600 mb-4 leading-relaxed">[Aqui pode descrever a filosofia da sua marca. Fale sobre a sua paixão por perfumes, a sua missão e os valores que guiam a SANSEI DECANTS. Conte a história que torna a sua loja única.]</p>
                            <p class="text-gray-600 leading-relaxed">[Detalhe o seu processo de curadoria. Explique como seleciona os seus produtos, o compromisso com a qualidade e a autenticidade, e como garante uma experiência de luxo para os seus clientes.]</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- =========== FAQ Page Content =========== -->
        <div id="page-faq" class="page-content hidden">
            <div class="bg-white">
                <div class="container mx-auto px-6 py-20">
                    <div class="text-center mb-16">
                        <h1 class="font-heading text-5xl font-bold mb-4 text-black" data-aos="fade-up">Perguntas Frequentes</h1>
                        <p class="text-lg text-gray-600" data-aos="fade-up" data-aos-delay="100">Tire as suas dúvidas mais comuns.</p>
                    </div>
                    <div class="max-w-3xl mx-auto" data-aos="fade-up">
                        <div class="space-y-4">
                            <!-- FAQ Item 1 -->
                            <div class="border-b border-gray-200 pb-4">
                                <button class="faq-question w-full flex justify-between items-center text-left text-xl font-semibold text-gray-800">
                                    <span>O que é um decant?</span>
                                    <i data-feather="chevron-down" class="transition-transform duration-300"></i>
                                </button>
                                <div class="faq-answer mt-2 text-gray-600">
                                    <p>Um decant é uma pequena quantidade de perfume original, transferida do frasco de fábrica para um frasco menor. É a forma ideal de experimentar diferentes fragrâncias de luxo antes de investir num frasco grande, ou para ter os seus perfumes favoritos em tamanho de viagem.</p>
                                </div>
                            </div>
                            <!-- FAQ Item 2 -->
                            <div class="border-b border-gray-200 pb-4">
                                <button class="faq-question w-full flex justify-between items-center text-left text-xl font-semibold text-gray-800">
                                    <span>Os produtos são originais?</span>
                                    <i data-feather="chevron-down" class="transition-transform duration-300"></i>
                                </button>
                                <div class="faq-answer mt-2 text-gray-600">
                                    <p>Sim, garantimos 100% de autenticidade. Todos os nossos decants são retirados diretamente dos frascos originais dos perfumes, adquiridos de fornecedores e marcas certificadas. A nossa reputação baseia-se na confiança e na qualidade.</p>
                                </div>
                            </div>
                            <!-- FAQ Item 3 -->
                            <div class="border-b border-gray-200 pb-4">
                                <button class="faq-question w-full flex justify-between items-center text-left text-xl font-semibold text-gray-800">
                                    <span>Como funciona o envio?</span>
                                    <i data-feather="chevron-down" class="transition-transform duration-300"></i>
                                </button>
                                <div class="faq-answer mt-2 text-gray-600">
                                    <p>Enviamos para todo o Brasil através dos Correios. Após a confirmação do pagamento, o seu pedido é preparado e postado em até 2 dias úteis. Receberá um código de rastreio por email para acompanhar a sua encomenda desde a postagem até à entrega.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- =========== CONTATO Page Content =========== -->
        <div id="page-contato" class="page-content hidden">
            <div class="bg-white">
                <div class="container mx-auto px-6 py-20">
                    <div class="text-center mb-16">
                        <h1 class="font-heading text-5xl font-bold mb-4 text-black" data-aos="fade-up">Entre em Contato</h1>
                        <p class="text-lg text-gray-600" data-aos="fade-up" data-aos-delay="100">Adoraríamos ouvir de você. Preencha o formulário abaixo.</p>
                    </div>
                    <div class="max-w-2xl mx-auto bg-gray-50 p-8 rounded-lg shadow-md" data-aos="fade-up">
                        <div id="contact-form-message" class="hidden mb-6 p-4 rounded-md text-center"></div>
                        <form id="contact-form">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                <div>
                                    <label for="name" class="block text-sm font-semibold text-gray-700 mb-2">Nome</label>
                                    <input type="text" id="name" name="name" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500">
                                </div>
                                <div>
                                    <label for="email" class="block text-sm font-semibold text-gray-700 mb-2">Email</label>
                                    <input type="email" id="email" name="email" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500">
                                </div>
                            </div>
                            <div class="mb-6">
                                <label for="subject" class="block text-sm font-semibold text-gray-700 mb-2">Assunto</label>
                                <input type="text" id="subject" name="subject" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500">
                            </div>
                            <div class="mb-6">
                                <label for="message" class="block text-sm font-semibold text-gray-700 mb-2">Mensagem</label>
                                <textarea id="message" name="message" rows="5" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500"></textarea>
                            </div>
                            <div class="text-center">
                                <button type="submit" class="bg-gold-500 text-black font-bold py-3 px-10 rounded-full hover:bg-gold-600 transition-all-ease">Enviar Mensagem</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- =========== Newsletter Section =========== -->
        <section class="bg-black">
            <div class="container mx-auto px-6 py-16 text-center" data-aos="fade-up">
                <h3 class="font-heading text-4xl font-bold text-white">Junte-se ao Círculo SANSEI</h3>
                <p class="mt-3 text-gray-300 max-w-xl mx-auto">Seja o primeiro a saber sobre lançamentos, coleções limitadas e eventos exclusivos.</p>
                <form class="mt-8 flex flex-col sm:flex-row gap-3 justify-center max-w-lg mx-auto">
                    <input type="email" placeholder="Seu melhor e-mail" class="w-full flex-grow px-4 py-3 rounded-md text-gray-800 bg-white border border-transparent focus:outline-none focus:ring-2 focus:ring-gold-500">
                    <button type="submit" class="bg-gold-500 text-black font-bold py-3 px-6 rounded-md hover:bg-gold-600 transition-all-ease">INSCREVER</button>
                </form>
            </div>
        </section>
    </main>

    <!-- =========== Footer =========== -->
    <footer class="bg-black text-white border-t border-gray-800">
        <div class="container mx-auto px-6 py-10">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h4 class="font-heading text-xl font-semibold mb-4 text-gold-500">SANSEI DECANTS</h4>
                    <p class="text-gray-400">Sua boutique de fragrâncias e decants exclusivos.</p>
                </div>
                <div>
                    <h4 class="font-heading text-lg font-semibold mb-4">Descubra</h4>
                    <ul>
                        <li class="mb-2"><a href="javascript:void(0);" onclick="showPage('sobre')" class="text-gray-400 hover:text-white transition-all-ease">Sobre Nós</a></li>
                        <li class="mb-2"><a href="javascript:void(0);" onclick="showPage('contato')" class="text-gray-400 hover:text-white transition-all-ease">Contato</a></li>
                        <li class="mb-2"><a href="javascript:void(0);" onclick="showPage('faq')" class="text-gray-400 hover:text-white transition-all-ease">FAQ</a></li>
                        <li class="mb-2"><a href="#" class="text-gray-400 hover:text-white transition-all-ease">Política de Privacidade</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-heading text-lg font-semibold mb-4">Siga-nos</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-all-ease"><i data-feather="instagram"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition-all-ease"><i data-feather="facebook"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition-all-ease"><i data-feather="twitter"></i></a>
                    </div>
                </div>
                 <div>
                    <h4 class="font-heading text-lg font-semibold mb-4">Contato</h4>
                    <p class="text-gray-400">Email: contato@sanseidecants.com</p>
                    <p class="text-gray-400">Telefone: (11) 99999-8888</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-500">
                <p>&copy; 2025 SANSEI DECANTS. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Shopping Cart Modal -->
    <div id="cart-modal-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden"></div>
    <div id="cart-modal" class="fixed top-0 right-0 h-full w-full max-w-sm bg-white shadow-xl z-50 transform translate-x-full">
        <div class="flex flex-col h-full">
            <div class="flex justify-between items-center p-6 border-b"><h2 class="font-heading text-2xl font-bold">Seu Carrinho</h2><button id="close-cart-button" class="text-gray-500 hover:text-gray-800"><i data-feather="x" class="w-6 h-6"></i></button></div>
            <div id="cart-items" class="flex-grow p-6 overflow-y-auto"></div>
            <div class="p-6 border-t">
                <form id="coupon-form" class="flex gap-2 mb-4">
                    <input type="text" id="coupon-input" placeholder="Código do cupom" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gold-500">
                    <button type="submit" class="bg-gray-800 text-white px-4 rounded-md hover:bg-black">Aplicar</button>
                </form>
                <div id="discount-info" class="text-sm text-green-600 mb-2"></div>
                <div class="flex justify-between items-center font-bold text-lg mb-4"><span>Total</span><span id="cart-total">R$ 0,00</span></div><button class="w-full bg-gold-500 text-black font-bold py-3 rounded-md hover:bg-gold-600 transition-all-ease">Finalizar Compra</button>
            </div>
        </div>
    </div>

    <!-- Product Details Modal -->
    <div id="product-details-modal-overlay" class="fixed inset-0 bg-black bg-opacity-60 z-50 hidden"></div>
    <div id="product-details-modal" class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-11/12 max-w-4xl bg-white rounded-lg shadow-xl z-50 hidden">
        <div id="product-details-content" class="max-h-[90vh] overflow-y-auto flex flex-col md:flex-row"></div>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal-overlay" class="fixed inset-0 bg-black bg-opacity-60 z-50 hidden"></div>
    <div id="auth-modal" class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-11/12 max-w-md bg-white rounded-lg shadow-xl z-50 hidden p-8">
        <button onclick="toggleAuthModal(false)" class="absolute top-4 right-4 text-gray-500 hover:text-black"><i data-feather="x"></i></button>
        <div id="auth-content"></div>
    </div>

    <!-- Toast Notification -->
    <div id="toast-notification" class="fixed top-5 right-5 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-4 opacity-0 transform translate-y-10 z-50">
        <i data-feather="check-circle" class="text-green-400"></i>
        <span id="toast-message"></span>
    </div>

    <!-- Loader -->
    <div id="loader" class="fixed inset-0 bg-white bg-opacity-75 z-50 flex items-center justify-center hidden">
        <div class="loader"></div>
    </div>


    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // =================================================================
        // E-COMMERCE BACKEND SIMULATION
        // =================================================================
        
        let products = JSON.parse(localStorage.getItem('sanseiProducts')) || [
            { id: 1, name: 'Perfume Absoluto', price: 499.90, image: 'https://placehold.co/400x500/f5f5f4/c09a58?text=Perfume+A', category: 'perfume', description: 'Uma fragrância amadeirada intensa, com notas de sândalo e patchouli, perfeita para ocasiões especiais.', rating: 4.5, reviews: [{name: 'Ana', rating: 5, comment: 'Absolutamente incrível! Fixação excelente.'}, {name: 'Carlos', rating: 4, comment: 'Muito bom, mas um pouco forte para o meu gosto.'}] },
            { id: 2, name: 'Fragrância Imperial', price: 649.90, image: 'https://placehold.co/400x500/f5f5f4/c09a58?text=Perfume+B', category: 'perfume', description: 'Um perfume opulento e luxuoso, com um coração de jasmim imperial e um fundo de âmbar e baunilha.', rating: 5, reviews: [{name: 'Beatriz', rating: 5, comment: 'Perfeito! O meu novo perfume favorito.'}] },
            { id: 3, name: 'Decant Essencial', price: 89.90, image: 'https://placehold.co/400x500/f5f5f4/c09a58?text=Decant+C', category: 'decant', description: 'Experimente o aroma cítrico e refrescante do nosso best-seller. Ideal para o uso diário e para levar consigo.', rating: 4, reviews: [] },
            { id: 4, name: 'Decant Noturno', price: 129.90, image: 'https://placehold.co/400x500/f5f5f4/c09a58?text=Decant+D', category: 'decant', description: 'Uma amostra da nossa fragrância mais sedutora, com notas de fava tonka, tabaco e especiarias.', rating: 4.8, reviews: [{name: 'Mariana', rating: 5, comment: 'Sensacional, comprarei o frasco grande.'}, {name: 'Pedro', rating: 4.5, comment: 'Ótima qualidade.'}] },
            { id: 5, name: 'Perfume Oriental', price: 720.50, image: 'https://placehold.co/400x500/f5f5f4/c09a58?text=Perfume+E', category: 'perfume', description: 'Uma viagem exótica através de especiarias raras e resinas preciosas. Um perfume marcante e inesquecível.', rating: 4.2, reviews: [] },
            { id: 6, name: 'Decant Floral', price: 99.00, image: 'https://placehold.co/400x500/f5f5f4/c09a58?text=Decant+F', category: 'decant', description: 'Um buquê de flores brancas, com gardênia, jasmim e um toque de tuberosa. Delicado e feminino.', rating: 4.6, reviews: [] },
        ];
        let cart = JSON.parse(localStorage.getItem('sanseiCart')) || [];
        let appliedCoupon = null;

        const coupons = [{ code: 'SANSEI10', discount: 0.10 }]; // 10% de desconto
        
        function saveProducts() { localStorage.setItem('sanseiProducts', JSON.stringify(products)); }
        function saveCart() { localStorage.setItem('sanseiCart', JSON.stringify(cart)); }
        
        function showToast(message, isError = false) {
            const toast = document.getElementById('toast-notification');
            const toastMessage = document.getElementById('toast-message');
            const icon = toast.querySelector('i');

            toastMessage.textContent = message;
            icon.setAttribute('data-feather', isError ? 'x-circle' : 'check-circle');
            icon.classList.toggle('text-red-400', isError);
            icon.classList.toggle('text-green-400', !isError);
            feather.replace();
            
            toast.classList.remove('opacity-0', 'translate-y-10');
            toast.classList.add('opacity-100', 'translate-y-0');

            setTimeout(() => {
                toast.classList.remove('opacity-100', 'translate-y-0');
                toast.classList.add('opacity-0', 'translate-y-10');
            }, 3000);
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            const cartItem = cart.find(item => item.id === productId);
            if (cartItem) { cartItem.quantity++; } else { cart.push({ ...product, quantity: 1 }); }
            saveCart();
            updateCartIcon();
            showToast(`${product.name} foi adicionado ao carrinho!`);
        }
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            updateCartIcon();
            renderCart();
        }
        function updateQuantity(productId, newQuantity) {
            const cartItem = cart.find(item => item.id === productId);
            if (!cartItem) return;
            if (newQuantity <= 0) { removeFromCart(productId); } else {
                cartItem.quantity = newQuantity;
                saveCart();
                updateCartIcon();
                renderCart();
            }
        }
        function updateCartIcon() {
            const cartCountEl = document.getElementById('cart-count');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCountEl.textContent = totalItems;
        }
        function renderCart() {
            const cartItemsEl = document.getElementById('cart-items');
            const cartTotalEl = document.getElementById('cart-total');
            const discountInfoEl = document.getElementById('discount-info');
            cartItemsEl.innerHTML = '';
            if (cart.length === 0) {
                cartItemsEl.innerHTML = '<p class="text-gray-500 text-center">Seu carrinho está vazio.</p>';
                cartTotalEl.textContent = 'R$ 0,00';
                discountInfoEl.innerHTML = '';
                return;
            }
            let total = 0;
            cart.forEach(item => {
                total += item.price * item.quantity;
            });

            if (appliedCoupon) {
                const discountAmount = total * appliedCoupon.discount;
                total -= discountAmount;
                discountInfoEl.innerHTML = `Cupom "${appliedCoupon.code}" aplicado! (-R$ ${discountAmount.toFixed(2).replace('.',',')}) <button onclick="removeCoupon()" class="text-red-500 ml-2 font-semibold">Remover</button>`;
            } else {
                discountInfoEl.innerHTML = '';
            }

            cartTotalEl.textContent = `R$ ${total.toFixed(2).replace('.',',')}`;
            
            cartItemsEl.innerHTML = cart.map(item => `
                <div class="flex items-center gap-4 mb-4">
                    <img src="${item.image}" alt="${item.name}" class="w-16 h-20 object-cover rounded-md">
                    <div class="flex-grow">
                        <h4 class="font-semibold">${item.name}</h4>
                        <p class="text-sm text-gray-600">R$ ${item.price.toFixed(2).replace('.',',')}</p>
                        <div class="flex items-center mt-2">
                            <button onclick="updateQuantity(${item.id}, ${item.quantity - 1})" class="w-6 h-6 border rounded-md">-</button>
                            <span class="px-3">${item.quantity}</span>
                            <button onclick="updateQuantity(${item.id}, ${item.quantity + 1})" class="w-6 h-6 border rounded-md">+</button>
                        </div>
                    </div>
                    <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-700"><i data-feather="trash-2" class="w-5 h-5"></i></button>
                </div>
            `).join('');
            
            feather.replace();
        }
        
        function handleApplyCoupon(e) {
            e.preventDefault();
            const couponInput = document.getElementById('coupon-input');
            const code = couponInput.value.trim().toUpperCase();
            const coupon = coupons.find(c => c.code === code);

            if (coupon) {
                appliedCoupon = coupon;
                showToast(`Cupom "${code}" aplicado com sucesso!`);
                renderCart();
            } else {
                showToast('Cupom inválido.', true);
            }
            couponInput.value = '';
        }

        function removeCoupon() {
            appliedCoupon = null;
            renderCart();
            showToast('Cupom removido.');
        }

        function renderStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= rating) {
                    stars += '<i data-feather="star" class="feather-star filled"></i>';
                } else {
                    stars += '<i data-feather="star" class="feather-star"></i>';
                }
            }
            return `<div class="flex items-center star-rating">${stars}</div>`;
        }

        function renderProducts(productsToRender, containerId) {
            const productListEl = document.getElementById(containerId);
            if (!productListEl) return;
            
            const loader = document.getElementById('loader');
            loader.classList.remove('hidden');
            productListEl.innerHTML = '';

            setTimeout(() => {
                if (productsToRender.length === 0) {
                    productListEl.innerHTML = '<p class="text-gray-600 col-span-full text-center">Nenhum produto encontrado.</p>';
                } else {
                    productListEl.innerHTML = productsToRender.map(product => `
                        <div class="bg-white group text-center rounded-lg shadow-sm cursor-pointer flex flex-col transition-all-ease hover:-translate-y-2 hover:shadow-xl" data-aos="fade-up" onclick="showProductDetails(${product.id})">
                            <div class="relative overflow-hidden rounded-t-lg">
                                <img src="${product.image}" alt="${product.name}" class="w-full h-auto object-cover group-hover:scale-105 transition-all-ease">
                            </div>
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="font-heading font-semibold text-2xl">${product.name}</h3>
                                <div class="flex justify-center my-2">${renderStars(product.rating)}</div>
                                <p class="text-gold-500 font-bold mt-auto text-lg">R$ ${product.price.toFixed(2).replace('.',',')}</p>
                                <button onclick="event.stopPropagation(); addToCart(${product.id})" class="mt-4 bg-black text-white py-2 px-6 rounded-full hover:bg-gold-500 hover:text-black transition-all-ease">Adicionar ao Carrinho</button>
                            </div>
                        </div>
                    `).join('');
                }
                loader.classList.add('hidden');
                AOS.refresh();
                feather.replace();
            }, 300); // Simulating network delay
        }

        function applyFilters() {
            let filteredProducts = [...products];
            const selectedCategories = [];
            if (document.getElementById('filter-cat-perfume').checked) selectedCategories.push('perfume');
            if (document.getElementById('filter-cat-decant').checked) selectedCategories.push('decant');
            if (selectedCategories.length > 0) {
                filteredProducts = filteredProducts.filter(p => selectedCategories.includes(p.category));
            }
            const priceFilter = document.querySelector('input[name="price"]:checked').value;
            if (priceFilter !== 'all') {
                if (priceFilter === '150') { filteredProducts = filteredProducts.filter(p => p.price <= 150); } 
                else if (priceFilter === '500') { filteredProducts = filteredProducts.filter(p => p.price > 150 && p.price <= 500); } 
                else if (priceFilter === '501') { filteredProducts = filteredProducts.filter(p => p.price > 500); }
            }
            
            const sortBy = document.getElementById('sort-by').value;
            if (sortBy === 'price-asc') {
                filteredProducts.sort((a, b) => a.price - b.price);
            } else if (sortBy === 'price-desc') {
                filteredProducts.sort((a, b) => b.price - a.price);
            } else if (sortBy === 'popularity') {
                filteredProducts.sort((a, b) => b.rating - a.rating);
            }

            renderProducts(filteredProducts, 'product-list-fragrances');
        }
        
        // =================================================================
        // AUTHENTICATION & SEARCH LOGIC
        // =================================================================
        
        let users = JSON.parse(localStorage.getItem('sanseiUsers')) || [];
        let currentUser = JSON.parse(sessionStorage.getItem('sanseiCurrentUser')) || null;

        function saveUsers() { localStorage.setItem('sanseiUsers', JSON.stringify(users)); }
        function saveCurrentUser() { sessionStorage.setItem('sanseiCurrentUser', JSON.stringify(currentUser)); }

        function renderAuthForm(isLogin = true) {
            const authContent = document.getElementById('auth-content');
            let formHtml = `
                <h2 class="font-heading text-3xl font-bold text-center mb-6">${isLogin ? 'Login' : 'Criar Conta'}</h2>
                <form id="auth-form">
                    <div class="mb-4">
                        <label for="auth-email" class="block text-sm font-semibold text-gray-700 mb-2">Email</label>
                        <input type="email" id="auth-email" required class="w-full px-4 py-2 border rounded-md">
                    </div>
                    <div class="mb-4">
                        <label for="auth-password" class="block text-sm font-semibold text-gray-700 mb-2">Senha</label>
                        <input type="password" id="auth-password" required class="w-full px-4 py-2 border rounded-md">
                    </div>
            `;
            if (!isLogin) {
                formHtml += `
                    <div class="mb-6">
                        <label for="auth-confirm-password" class="block text-sm font-semibold text-gray-700 mb-2">Confirmar Senha</label>
                        <input type="password" id="auth-confirm-password" required class="w-full px-4 py-2 border rounded-md">
                    </div>
                `;
            }
            formHtml += `
                    <button type="submit" class="w-full bg-gold-500 text-black font-bold py-3 rounded-md">${isLogin ? 'Entrar' : 'Registar'}</button>
                </form>
                <p class="text-center text-sm mt-4">
                    ${isLogin ? 'Não tem uma conta?' : 'Já tem uma conta?'}
                    <a href="#" onclick="event.preventDefault(); renderAuthForm(${!isLogin})" class="text-gold-500 font-semibold">
                        ${isLogin ? 'Crie uma aqui.' : 'Faça login.'}
                    </a>
                </p>
            `;
            authContent.innerHTML = formHtml;
            document.getElementById('auth-form').addEventListener('submit', isLogin ? handleLogin : handleRegister);
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('auth-email').value;
            const password = document.getElementById('auth-password').value;
            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                currentUser = user;
                saveCurrentUser();
                updateAuthUI();
                toggleAuthModal(false);
                showToast(`Bem-vindo(a) de volta, ${email}!`);
            } else {
                showToast('Email ou senha inválidos.', true);
            }
        }

        function handleRegister(e) {
            e.preventDefault();
            const email = document.getElementById('auth-email').value;
            const password = document.getElementById('auth-password').value;
            const confirmPassword = document.getElementById('auth-confirm-password').value;
            
            if (password !== confirmPassword) {
                showToast('As senhas não coincidem.', true);
                return;
            }

            if (users.find(u => u.email === email)) {
                showToast('Este email já está registado.', true);
                return;
            }
            users.push({ email, password });
            saveUsers();
            showToast('Conta criada com sucesso! Faça login para continuar.');
            renderAuthForm(true);
        }
        
        function logout() {
            currentUser = null;
            sessionStorage.removeItem('sanseiCurrentUser');
            updateAuthUI();
            showPage('inicio');
            showToast('Sessão terminada.');
        }

        function updateAuthUI() {
            const userButton = document.getElementById('user-button');
            const mobileUserLink = document.getElementById('mobile-user-link');
            if (currentUser) {
                userButton.innerHTML = `<i data-feather="log-out"></i>`;
                userButton.onclick = logout;
                mobileUserLink.textContent = 'Sair';
                mobileUserLink.onclick = logout;
            } else {
                userButton.innerHTML = `<i data-feather="user"></i>`;
                userButton.onclick = () => toggleAuthModal(true);
                mobileUserLink.textContent = 'Minha Conta';
                mobileUserLink.onclick = () => toggleAuthModal(true);
            }
            feather.replace();
        }

        function toggleAuthModal(show) {
            const overlay = document.getElementById('auth-modal-overlay');
            const modal = document.getElementById('auth-modal');
            if (show) {
                renderAuthForm();
                overlay.classList.remove('hidden');
                modal.classList.remove('hidden');
            } else {
                overlay.classList.add('hidden');
                modal.classList.add('hidden');
            }
        }
        
        // Search Logic
        const searchInput = document.getElementById('search-input');
        const searchResultsContainer = document.getElementById('search-results');
        
        document.getElementById('search-button').addEventListener('click', () => document.getElementById('search-bar').classList.toggle('hidden'));
        document.getElementById('close-search-bar').addEventListener('click', () => {
            document.getElementById('search-bar').classList.add('hidden');
            searchResultsContainer.innerHTML = '';
            searchInput.value = '';
        });

        searchInput.addEventListener('keyup', () => {
            const query = searchInput.value.toLowerCase();
            if (query.length < 2) {
                searchResultsContainer.innerHTML = '';
                return;
            }
            const results = products.filter(p => p.name.toLowerCase().includes(query) || p.description.toLowerCase().includes(query));
            
            if(results.length > 0) {
                searchResultsContainer.innerHTML = results.map(p => `
                    <div class="flex items-center gap-4 p-2 border-b border-gray-100 hover:bg-gray-50 cursor-pointer" onclick="showProductDetails(${p.id})">
                        <img src="${p.image}" class="w-12 h-12 object-cover rounded-md">
                        <div>
                            <h4 class="font-semibold">${p.name}</h4>
                            <p class="text-sm text-gold-500">R$ ${p.price.toFixed(2).replace('.',',')}</p>
                        </div>
                    </div>
                `).join('');
            } else {
                searchResultsContainer.innerHTML = '<p class="text-center p-4 text-gray-500">Nenhum produto encontrado.</p>';
            }
        });

        // =================================================================
        // MODAL & PAGE LOGIC
        // =================================================================
        const cartModal = document.getElementById('cart-modal');
        const cartModalOverlay = document.getElementById('cart-modal-overlay');
        const productDetailsModal = document.getElementById('product-details-modal');
        const productDetailsModalOverlay = document.getElementById('product-details-modal-overlay');
        const productDetailsContent = document.getElementById('product-details-content');

        function toggleCart(show) {
            if (show) {
                cartModalOverlay.classList.remove('hidden');
                cartModal.classList.remove('translate-x-full');
                renderCart();
            } else {
                cartModalOverlay.classList.add('hidden');
                cartModal.classList.add('translate-x-full');
            }
        }
        
        function showProductDetails(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            let reviewsHtml = product.reviews.length > 0 ? product.reviews.map(review => `
                <div class="border-t border-gray-200 pt-4 mt-4">
                    <div class="flex items-center mb-1">
                        ${renderStars(review.rating)}
                        <h4 class="font-semibold ml-3">${review.name}</h4>
                    </div>
                    <p class="text-gray-600">${review.comment}</p>
                </div>
            `).join('') : '<p class="text-gray-500 mt-4">Este produto ainda não tem avaliações. Seja o primeiro a avaliar!</p>';

            let relatedProducts = products.filter(p => p.category === product.category && p.id !== product.id).slice(0, 3);
            let relatedHtml = relatedProducts.length > 0 ? relatedProducts.map(rp => `
                <div class="text-center cursor-pointer" onclick="closeProductDetails(); showProductDetails(${rp.id})">
                    <img src="${rp.image}" alt="${rp.name}" class="w-full h-40 object-cover rounded-lg mb-2">
                    <h5 class="font-semibold text-sm">${rp.name}</h5>
                </div>
            `).join('') : '';

            productDetailsContent.innerHTML = `
                <div class="w-full md:w-1/2">
                    <img src="${product.image.replace('400x500', '800x1000')}" alt="${product.name}" class="w-full h-full object-cover md:rounded-l-lg">
                </div>
                <div class="w-full md:w-1/2 p-8 flex flex-col">
                    <button onclick="closeProductDetails()" class="self-end text-gray-500 hover:text-gray-800 mb-2"><i data-feather="x" class="w-6 h-6"></i></button>
                    <h2 class="font-heading text-4xl font-bold">${product.name}</h2>
                    <div class="flex items-center my-2">${renderStars(product.rating)} <span class="ml-2 text-sm text-gray-500">(${product.reviews.length} avaliações)</span></div>
                    <p class="text-gold-500 font-bold text-2xl mb-6">R$ ${product.price.toFixed(2).replace('.',',')}</p>
                    <p class="text-gray-600 leading-relaxed mb-6">${product.description}</p>
                    <div class="flex gap-2 mb-8">
                        <button onclick="addToCart(${product.id});" class="w-full bg-gold-500 text-black font-bold py-3 rounded-md hover:bg-gold-600 transition-all-ease">Adicionar ao Carrinho</button>
                        <a href="https://api.whatsapp.com/send?text=Veja%20este%20produto%20incrível:%20${encodeURIComponent(product.name)}%20-%20${encodeURIComponent(window.location.href)}" target="_blank" class="p-3 bg-gray-200 rounded-md hover:bg-gray-300"><i data-feather="message-circle"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}" target="_blank" class="p-3 bg-gray-200 rounded-md hover:bg-gray-300"><i data-feather="facebook"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=Veja%20este%20produto%20incrível:%20${encodeURIComponent(product.name)}" target="_blank" class="p-3 bg-gray-200 rounded-md hover:bg-gray-300"><i data-feather="twitter"></i></a>
                    </div>
                    
                    <div class="border-t pt-6">
                        <h3 class="font-heading text-2xl font-semibold mb-4">Avaliações de Clientes</h3>
                        <div id="reviews-list">${reviewsHtml}</div>
                    </div>

                    <div class="border-t pt-6 mt-6">
                        <h3 class="font-heading text-2xl font-semibold mb-4">Deixe a sua Avaliação</h3>
                        <form id="review-form" onsubmit="handleReviewSubmit(event, ${product.id})">
                            <div class="mb-4">
                                <label class="block text-sm font-semibold mb-2">Sua nota</label>
                                <div class="flex">
                                    <input type="radio" name="rating" value="1" id="rate-1" class="sr-only peer"><label for="rate-1" class="peer-hover:text-gold-500 text-gray-300 peer-checked:text-gold-500"><i data-feather="star"></i></label>
                                    <input type="radio" name="rating" value="2" id="rate-2" class="sr-only peer"><label for="rate-2" class="peer-hover:text-gold-500 text-gray-300 peer-checked:text-gold-500"><i data-feather="star"></i></label>
                                    <input type="radio" name="rating" value="3" id="rate-3" class="sr-only peer"><label for="rate-3" class="peer-hover:text-gold-500 text-gray-300 peer-checked:text-gold-500"><i data-feather="star"></i></label>
                                    <input type="radio" name="rating" value="4" id="rate-4" class="sr-only peer"><label for="rate-4" class="peer-hover:text-gold-500 text-gray-300 peer-checked:text-gold-500"><i data-feather="star"></i></label>
                                    <input type="radio" name="rating" value="5" id="rate-5" class="sr-only peer" checked><label for="rate-5" class="peer-hover:text-gold-500 text-gray-300 peer-checked:text-gold-500"><i data-feather="star"></i></label>
                                </div>
                            </div>
                            <div class="mb-4"><input type="text" id="review-name" placeholder="Seu nome" required class="w-full px-3 py-2 border rounded-md"></div>
                            <div class="mb-4"><textarea id="review-comment" placeholder="Seu comentário" required rows="3" class="w-full px-3 py-2 border rounded-md"></textarea></div>
                            <button type="submit" class="w-full bg-black text-white font-bold py-2 rounded-md hover:bg-gray-800">Enviar Avaliação</button>
                        </form>
                    </div>

                    ${relatedProducts.length > 0 ? `
                    <div class="border-t pt-6 mt-6">
                        <h3 class="font-heading text-2xl font-semibold mb-4">Pode também gostar de...</h3>
                        <div class="grid grid-cols-3 gap-4">${relatedHtml}</div>
                    </div>
                    ` : ''}
                </div>
            `;
            
            productDetailsModal.classList.remove('hidden');
            productDetailsModalOverlay.classList.remove('hidden');
            feather.replace();
        }

        function closeProductDetails() {
            productDetailsModal.classList.add('hidden');
            productDetailsModalOverlay.classList.add('hidden');
        }

        function handleReviewSubmit(event, productId) {
            event.preventDefault();
            const form = event.target;
            const name = form.querySelector('#review-name').value;
            const comment = form.querySelector('#review-comment').value;
            const rating = parseInt(form.querySelector('input[name="rating"]:checked').value);

            const product = products.find(p => p.id === productId);
            if(product) {
                product.reviews.unshift({ name, rating, comment });
                let totalRating = 0;
                product.reviews.forEach(r => totalRating += r.rating);
                product.rating = totalRating / product.reviews.length;
                
                saveProducts();
                showProductDetails(productId); // Re-render the modal
                renderProducts(products.slice(0, 4), 'product-list-home');
            }
        }
        
        // =================================================================
        // PAGE INITIALIZATION & NAVIGATION
        // =================================================================
        const pages = document.querySelectorAll('.page-content');
        const navLinks = document.querySelectorAll('.nav-link');
        const mobileMenu = document.getElementById('mobile-menu');
        
        function showPage(pageId) {
            pages.forEach(page => page.classList.add('hidden'));
            const targetPage = document.getElementById('page-' + pageId);
            if(targetPage) { targetPage.classList.remove('hidden'); }
            navLinks.forEach(link => link.classList.remove('active'));
            const activeLink = document.getElementById('nav-' + pageId);
            if(activeLink) { activeLink.classList.add('active'); }
            if (!mobileMenu.classList.contains('hidden')) { mobileMenu.classList.add('hidden'); }
            
            if (pageId === 'fragrancias') {
                applyFilters();
            } else if (pageId === 'decants') {
                const decantProducts = products.filter(p => p.category === 'decant');
                renderProducts(decantProducts, 'product-list-decants');
            }
            
            window.scrollTo(0, 0);
            AOS.refresh();
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('cart-button').addEventListener('click', () => toggleCart(true));
            document.getElementById('close-cart-button').addEventListener('click', () => toggleCart(false));
            document.getElementById('cart-modal-overlay').addEventListener('click', () => toggleCart(false));
            document.getElementById('product-details-modal-overlay').addEventListener('click', closeProductDetails);
            document.getElementById('mobile-menu-button').addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); });
            document.getElementById('coupon-form').addEventListener('submit', handleApplyCoupon);

            // FAQ Accordion Logic
            const faqQuestions = document.querySelectorAll('.faq-question');
            faqQuestions.forEach(question => {
                question.addEventListener('click', () => {
                    const answer = question.nextElementSibling;
                    const icon = question.querySelector('i svg');

                    if (answer && icon) {
                        if (answer.style.maxHeight) {
                            answer.style.maxHeight = null;
                            icon.style.transform = 'rotate(0deg)';
                        } else {
                            answer.style.maxHeight = answer.scrollHeight + "px";
                            icon.style.transform = 'rotate(180deg)';
                        }
                    }
                });
            });

            renderProducts(products.slice(0, 4), 'product-list-home');
            updateCartIcon();
            updateAuthUI();
            feather.replace();
            AOS.init({ duration: 800, once: true });
            showPage('inicio');
        });
    </script>
</body>
</html>
